<?php
header('content-type: text/html; charset=shift-jis');

set_time_limit(-1);
require_once("simple_html_dom.php");

function getPostDataFromUrl($_url, $_cname){
	$curl = curl_init();

	curl_setopt_array($curl, array(
		CURLOPT_URL => $_url, 	CURLOPT_RETURNTRANSFER => true, 	CURLOPT_ENCODING => "", 	CURLOPT_MAXREDIRS => 10, 	CURLOPT_TIMEOUT => 30, 	CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1, 	CURLOPT_CUSTOMREQUEST => "POST", 	CURLOPT_POSTFIELDS => "cname=" . $_cname, 	CURLOPT_HTTPHEADER => array(
		"Cache-Control: no-cache", 	"Content-Type: application/x-www-form-urlencoded", 	"Postman-Token: 61b2cb3c-8052-4ee8-a425-06ae4c5dcf4a"
		), ));

	$response = curl_exec($curl);
	$err = curl_error($curl);

	curl_close($curl);

	if ($err) {
		return "";
	} else {
		return $response;
	}
}

$arrCNames = ["pw05cmk001055/44", "pw05cmk001053/2C", "pw05cmk001075/1A", "pw05cmk000438/11", "pw05cmk001137/D0", "pw05cmk000386/C6", "pw05cmk001002/89", "pw05cmk001022/5F", "pw05cmk001070/5E", "pw05cmk000399/D5", "pw05cmk001126/D9", "pw05cmk001039/9E", "pw05cmk001105/77", "pw05cmk001027/1B", "pw05cmk001117/FA", "pw05cmk001061/7F", "pw05cmk000411/67", "pw05cmk001071/EA", "pw05cmk001058/E8", "pw05cmk001129/7D", "pw05cmk001084/F9", "pw05cmk001017/B0", "pw05cmk001128/F1", "pw05cmk001121/1D", "pw05cmk001097/08", "pw05cmk001062/0B", "pw05cmk001073/02", "pw05cmk001142/7F", "pw05cmk001059/74", "pw05cmk001127/65", "pw05cmk001079/4A", "pw05cmk001044/4D", "pw05cmk001158/32", "pw05cmk001087/9D", "pw05cmk001049/09", "pw05cmk001046/65", "pw05cmk001130/FC", "pw05cmk001020/47", "pw05cmk001072/76", "pw05cmk001114/56", "pw05cmk001038/12", "pw05cmk001146/AF", "pw05cmk001145/23", "pw05cmk001140/67", "pw05cmk001068/53", "pw05cmk001157/A6", "pw05cmk001108/1B", "pw05cmk000422/5E", "pw05cmk001136/44", "pw05cmk001111/B2", "pw05cmk001028/A7", "pw05cmk001016/24", "pw05cmk001147/3B", "pw05cmk001103/5F", "pw05cmk001048/7D", "pw05cmk001102/D3", "pw05cmk001099/20", "pw05cmk001144/97", "pw05cmk001149/53", "pw05cmk001065/AF", "pw05cmk000362/C0", "pw05cmk001021/D3", "pw05cmk000356/85", "pw05cmk001088/29", "pw05cmk001054/B8", "pw05cmk001023/EB", "pw05cmk001086/11", "pw05cmk000419/C7", "pw05cmk000420/46", "pw05cmk001092/4C", "pw05cmk001083/6D", "pw05cmk000417/AF", "pw05cmk001074/8E", "pw05cmk001115/E2", "pw05cmk001138/5C", "pw05cmk000429/32", "pw05cmk001153/76", "pw05cmk001134/2C", "pw05cmk001052/A0", "pw05cmk001095/F0", "pw05cmk001110/26", "pw05cmk001113/CA", "pw05cmk000388/DE", "pw05cmk001076/A6", "pw05cmk001003/15", "pw05cmk001067/C7", "pw05cmk001033/56", "pw05cmk001123/35", "pw05cmk001098/94", "pw05cmk001106/03", "pw05cmk001064/23", "pw05cmk001107/8F", "pw05cmk000427/1A", "pw05cmk001150/D2", "pw05cmk001124/C1", "pw05cmk001132/14", "pw05cmk000261/EA", "pw05cmk001085/85", "pw05cmk000405/2C", "pw05cmk001026/8F", "pw05cmk001139/E8", "pw05cmk001156/1A", "pw05cmk001120/91", "pw05cmk001104/EB", "pw05cmk001116/6E", "pw05cmk001078/BE", "pw05cmk000423/EA", "pw05cmk001101/47", "pw05cmk001012/F4", "pw05cmk001112/3E", "pw05cmk001081/55", "pw05cmk001160/3D", "pw05cmk000408/D0", "pw05cmk001118/86", "pw05cmk001018/3C", "pw05cmk001151/5E", "pw05cmk000431/3D", "pw05cmk001050/88", "pw05cmk001082/E1", "pw05cmk001109/A7", "pw05cmk001014/0C", "pw05cmk001008/D1", "pw05cmk001066/3B", "pw05cmk000425/02", "pw05cmk001155/8E", "pw05cmk001011/68", "pw05cmk000378/73", "pw05cmk001119/12", "pw05cmk001125/4D", "pw05cmk000412/F3", "pw05cmk001029/33", "pw05cmk001024/77", "pw05cmk001148/C7", "pw05cmk001035/6E", "pw05cmk001141/F3", "pw05cmk001042/35", "pw05cmk001133/A0", "pw05cmk000341/5E", "pw05cmk001057/5C", "pw05cmk001152/EA", "pw05cmk001089/B5", "pw05cmk000434/E1", "pw05cmk000437/85", "pw05cmk001051/14", "pw05cmk001096/7C", "pw05cmk001040/1D", "pw05cmk001135/B8", "pw05cmk001041/A9", "pw05cmk001032/CA", "pw05cmk001069/DF", "pw05cmk001154/02", "pw05cmk001091/C0", "pw05cmk001090/34", "pw05cmk001010/DC", "pw05cmk001131/88", "pw05cmk001143/0B", "pw05cmk001159/BE", "pw05cmk001164/6D", "pw05cmk001080/C9", "pw05cmk000396/31", "pw05cmk001100/BB", "pw05cmk000365/64", "pw05cmk000359/29", "pw05cmk001161/C9", "pw05cmk001093/D8", "pw05cmk000435/6D", "pw05cmk001162/55", "pw05cmk000387/52", "pw05cmk001030/B2", "pw05cmk000428/A6", "pw05cmk001031/3E", "pw05cmk001163/E1", "pw05cmk001047/F1", "pw05cmk001094/64", "pw05cmk001056/D0", "pw05cmk001005/2D", "pw05cmk000349/BE", "pw05cmk001165/F9", "pw05cmk001043/C1", "pw05cmk000409/5C", "pw05cmk000392/01", "pw05cmk001009/5D", "pw05cmk000436/F9", "pw05cmk000421/D2", "pw05cmk001063/97", "pw05cmk001036/FA", "pw05cmk001013/80", "pw05cmk000353/E1", "pw05cmk000402/88", "pw05cmk001006/B9", "pw05cmk000390/E9", "pw05cmk001077/32", "pw05cmk000379/FF", "pw05cmk001025/03", "pw05cmk000380/7E", "pw05cmk001007/45", "pw05cmk000397/BD", "pw05cmk000400/70", "pw05cmk000383/22", "pw05cmk000370/13",];
$arrEngName = ["Hideaki Fujiwara", "Katsuhiko Sumii", "Yoshito Yahagi", "Takayuki Yasuda", "Mitsumasa Nakauchida", "Kazuo Fujisawa", "Hidetaka Otonashi", "Sei Ishizaka", "Noriyuki Hori", "Sakae Kunieda", "Tetsuya Kimura", "Kazuya Nakatake", "Naosuke Sugai", "Yasuhito Tamura", "Tomokazu Takano", "Yasuo Tomomichi", "Hidekazu Asami", "Yasutoshi Ikee", "Ryuji Okubo", "Yoshitada Takahashi", "Tomoyuki Umeda", "Kiyoshi Hagiwara", "Teiichi Konno", "Koichi Tsunoda", "Yuichi Shikato", "Kenichi Fujioka", "Hiroshi Miyamoto", "Naoyuki Morita", "Yukihiro Kato", "Toru Kurita", "Masaaki Koga", "Mitsugu Kon", "Ryo Terashima", "Yasushi Shono", "Katsumi Minai", "Ippo Sameshima", "Keiji Yoshimura", "Ikuo Aizawa", "Hiroshi Kawachi", "Shoichiro Wada", "Takahisa Tezuka", "Yutaka Okumura", "Takeshi Okumura", "Mamoru Ishibashi", "Shigeyuki Kojima", "Haruki Sugiyama", "Eiichi Yano", "Tadao Igarashi", "Ryo Takahashi", "Takashi Suzuki", "Masato Nishizono", "Katsuichi Nishiura", "Ryo Takei", "Tomohito Ozeki", "Yoshihiro Hatakeyama", "Masahiro Otake", "Masaru Honda", "Manabu Ikezoe", "Takeshi Matsushita", "Yuki Ohashi", "Mitsuru Hashida", "Kaneo Ikezoe", "Masanori Sakaguchi", "Noboru Takagi", "Hirofumi Toda", "Keizo Ito", "Makoto Saito", "Shigeki Matsumoto", "Yoshitada Munakata", "Mikio Matsunaga", "Masahiro Matsunaga", "Minoru Tsuchida", "Masashi Okuhira", "Takanori Kikuzawa", "Tamio Hamada", "Shozo Sasaki", "Eiji Nakadate", "Fumimasa Takahashi", "Masatatsu Kikukawa", "Yoshiyuki Arakawa", "Hisashi Shimizu", "Mitsunori Makiura", "Kenji Yamauchi", "Michihiro Ogasa", "Yoshihiko Kawamura", "Takashi Kubota", "Kazuyoshi Kihara", "Kazuya Makita", "Kenji Nonaka", "Koji Maki", "Yoshinori Muto", "Akira Murayama", "Hideyuki Mori", "Masakazu Ikegami", "Naru Owada", "Takashi Kanari", "Hitoshi Nakamura", "Ken Kozaki", "Kazuo Konishi", "Nobuhiro Suzuki", "Yuji Iida", "Takafumi Aoki", "Teruhiko Chida", "Kazuhide Sasada", "Koichi Shinkai", "Yoshihito Kitade", "Hiroyuki Uehara", "Naohiro Yoshida", "Satoshi Oehara", "Toshiaki Tajima", "Tadashige Nakagawa", "Koshiro Take", "Kiyotaka Tanaka", "Mizuki Takayanagi", "Toru Miya", "Takashi Saito", "Kiyoshi Tani", "Yuzo Iida", "Osamu Hirata", "Daishi Ito", "Keiji Takaichi", "Hiroaki Sugiura", "Inao Okada", "Tadashi Kayo", "Kunihiko Watanabe", "Kunihide Matsuda", "Yoshio Oki", "Tsuyoshi Tanaka", "Jiro Ono", "Yutaka Takahashi", "Yasuhiro Nemoto", "Koji Kayano", "Masayuki Nishimura", "Yoshikatsu Sato", "Kazuyuki Ogata", "Akio Adachi", "Yoichi Kuroiwa", "Hironori Kurita", "Sachio Yukubo", "Masahiro Takeuchi", "Yasuo Takeichi", "Toyoji Nishihashi", "Michio Minamida", "Takaki Iwato", "Masao Kasuya", "Toshiyuki Hattori", "Yasuyuki Takahashi", "Norio Fujisawa", "Hiroyuki Oneda", "Hidemasa Nakao", "Shinsuke Hashiguchi", "Tomohiko Hatsuki", "Shoichi Temma", "Eiji Nakano", "Toshihiro Ebina", "Yuji Wada", "Daisuke Takayanagi", "Shogo Yasuda", "Hidekatsu Shimizu", "[Retired]Nobuharu Fukushima", "Masaki Matsuyama", "Hiroki Sakiyama", "Yoshiyasu Takahashi", "Hidenori Take", "Yasutoshi Matsunaga", "Tatsuo Fujiwara", "Hiroyasu Tanaka", "[Retired] Tetsuya Meno", "Shinobu Hoshino", "Yoshihiko Ishige", "Shinichi Ito", "Toru Hayashi", "Kazuhiro Seishi", "Takahiro Mizuno", "Shinobu Homma", "Satoru Kobiyama", "[Retired] Mitsuhiro Ogata", "Yusuke Wada", "Tatsuhiko Ishikuri", "[Retired] Yoshitaka Ninomiya", "Fumio Koga", "Hidetaka Tadokoro", "Masahiro Horii", "Yoichiro Asano", "Hitoshi Matoba", "Yoshihiro Takahashi", "[Retired] Futoshi Kojima", "[Retired] Masamichi Wada", "Yoshiaki Tanihara", "Seiji Sakuta", "[Retired] Masahiro Ikegami", "Kazuhiro Kato", "[Retired] Keiji Kato", "[Retired] Masao Sato", "Takashi Tsukazaki", "Masato Shibata", "[Retired] Ichizo Iwamoto", "[Retired] Mitsuharu Shibata", "Masanori Ito", "[Retired] Toshikazu Nihonyanagi",];
for( $i = 0; $i < count($arrCNames); $i++){
	$cname = $arrCNames[$i];
	$rawContents = getPostDataFromUrl("http://www.jra.go.jp/JRADB/accessC.html", $cname);
	// echo $rawContents;
	$html = str_get_html($rawContents);
	// echo $html;
	$records = $html->find(".header3 strong");
	foreach ($records as $record) {
		echo($record . ", " . $arrEngName[$i]);
		echo "<br/>";
	}
}
?>
